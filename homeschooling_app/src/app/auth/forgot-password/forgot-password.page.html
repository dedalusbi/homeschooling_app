<ion-header mode="ios" class="ion-no-border [--background:theme(colors.fundo-neutro)]">
  <ion-toolbar class="[--background:theme(colors.fundo-neutro)]">
    <ion-buttons slot="start">
      <!--Volta pra a tela de login por padrão-->
      <ion-back-button defaultHref="/auth/login" class="text-texto-profundo"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="[--background:theme(colors.fundo-neutro)]">
  <!--Container centralizado e com largura máxima em telas maiores-->
  <div class="p-6 text-texto-profundo flex flex-col h-full md:max-w-md md:mx-auto md:justify-center">
    <!--Ícone e título-->
    <div class="text-center mt-8 md:mt-0 mb-8">
      <div class="w-16 h-16 bg-blue-100 rounded-full inline-flex items-center justify-center mb-4">
        <ion-icon name="key" class="text-azul-sereno text-3xl"></ion-icon>
      </div>
      <h1 class="text-2xl font-bold mb-2">Esqueci minha senha</h1>
      <p class="text-texto-suave px-4">Não se preocupe! Digite seu email abaixo e enviaremos um link pare redefinir sua senha.</p>
    </div>

    <!--Formulário-->
    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="space-y-5">
      <div class="bg-white rounded-lg p-3 shadow-sm">
        <ion-label position="stacked" class="text-xs text-texto-suave mb-1 ml-1">Email</ion-label>
        <div class="flex items-center">
          <ion-input type="email" placeholder="Digite seu email cadastrado" formControlName="email" class="flex-grow text-base"></ion-input>
          <ion-icon name="mail" class="text-texto-suave text-xl ml-2"></ion-icon>
        </div>
        <!--Erro-->
        <div *ngIf="f['email'].invalid && f['email'].touched" class="text-vermelho-erro text-xs mt-1 ml-1">
          <span *ngIf="f['email'].errors?.['required']">Email é obrigatório.</span>
          <span *ngIf="f['email'].errors?.['email']">Email inválido.</span>
        </div>
      </div>

      <ion-button type="submit" expand="block" shape="round" class="h-12 text-base normal-case [--background:theme(colors.azul-sereno)] text-white hover:bg-opacity-90 mt-6" [disabled]="forgotPasswordForm.invalid">
        <ion-icon name="send" slot="start"></ion-icon>
        Enviar link de recuperação
      </ion-button>

    </form>

    <!--Link voltar ao login-->
    <div class="text-center text-sm text-texto-suave mt-6">
      Lembrou sua senha? <a class="text-azul-sereno font-bold cursor-pointer hover:underline" (click)="goToLogin()">Voltar ao login</a>
    </div>

    <!--Bloco de ajuda-->
    <div class="mt-auto pt-8 pb-4 md:mt-12">
      <div class="bg-blue-50 rounded-lg p-4 text-center">
        <ion-icon name="help-circle" class="text-azul-sereno text-2xl mb-2"></ion-icon>
        <h3 class="font-semibold text-texto-profundo mb-1">Precisa de ajuda?</h3>
        <p class="text-xs text-texto-suave mb-3">Se você não receber o email em alguns minutos, verifique sua pasta 
          de spam ou entre em contato conosco.
        </p>
        <a href="#" class="inline-flex items-center text-xs text-azul-sereno font-medium hover:underline">
          <ion-icon name="headset" class="mr-1"></ion-icon>
          Falar com suporte
        </a>
      </div>
    </div>


  </div>
</ion-content>